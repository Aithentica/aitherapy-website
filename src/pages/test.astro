---
import BaseLayout from '../layouts/BaseLayout.astro';
import { mainNavigation } from '../data/navigation';
import { testimonials } from '../data/testimonials';
import { faqItems } from '../data/faq';
import { getCollection } from 'astro:content';

const allPosts = await getCollection('blog', ({ data }) => !data.draft);
const latestPosts = allPosts
  .sort((a, b) => b.data.pubDate.getTime() - a.data.pubDate.getTime())
  .slice(0, 3);

const currentYear = new Date().getFullYear();

const features = [
  {
    badge: 'TRANSKRYPCJA ¬∑ AI',
    emoji: 'üé§',
    title: 'Inteligentna notatka',
    desc: 'Wiƒôcej ni≈º transkrypcja. AI rozr√≥≈ºnia m√≥wc√≥w, wychwytuje interwencje i tworzy ustrukturowanƒÖ notatkƒô klinicznƒÖ w mniej ni≈º 30 sekund.',
    points: ['Rozr√≥≈ºnianie m√≥wc√≥w w czasie rzeczywistym', 'Format SOAP/BIRP jednym klikniƒôciem', 'Notatka gotowa w mniej ni≈º 30 sekund', 'PodglƒÖd i edycja po sesji'],
    large: true,
  },
  {
    badge: 'RODO ¬∑ AI ACT',
    emoji: 'üîí',
    title: 'Bezpiecze≈Ñstwo na ka≈ºdym etapie',
    desc: 'Szyfrowanie end-to-end, lokalna anonimizacja danych, pe≈Çna zgodno≈õƒá z RODO i AI Act ‚Äî od pierwszej linii kodu.',
    points: ['Szyfrowanie end-to-end', 'Anonimizacja lokalna przed transmisjƒÖ', 'Pe≈Çna zgodno≈õƒá z RODO i AI Act', 'Nie mamy dostƒôpu do Twoich notatek'],
    large: true,
  },
  {
    badge: 'KLINICZNY',
    emoji: 'üß†',
    title: 'Konceptualizacja',
    desc: 'Generowanie diagram√≥w kognitywnych i modeli b≈Çƒôdnego ko≈Ça jednym klikniƒôciem.',
    points: ['Diagram kognitywny CBT', 'Model b≈Çƒôdnego ko≈Ça', 'Eksport do PDF'],
    large: false,
  },
  {
    badge: 'ANALITYKA',
    emoji: 'üìä',
    title: 'Zestawienia',
    desc: 'Ca≈Çy przebieg terapii na jednym ekranie ‚Äî por√≥wnanie sesji i ≈õledzenie wynik√≥w kwestionariuszy.',
    points: ['Por√≥wnanie notatek miƒôdzy sesjami', '≈öledzenie wynik√≥w kwestionariuszy', 'Wizualizacja postƒôpu terapii'],
    large: false,
  },
  {
    badge: 'WSP√ì≈ÅPRACA',
    emoji: 'ü§ù',
    title: 'Superwizja',
    desc: 'Notatki, konceptualizacje i przebieg terapii ‚Äî szybko gotowe do superwizji.',
    points: ['Gotowe podsumowania sesji', 'Historia konceptualizacji', 'Eksport ca≈Çej historii terapii'],
    large: false,
  },
];
---

<BaseLayout
  title="Therapy Support"
  description="Zintegrowana Platforma dla Terapeut√≥w CBT. Nowy standard w psychoterapii."
  noindex={true}
>

  <!-- ===== HEADER ===== -->
  <header class="sticky top-0 z-50 bg-brand-500" id="site-header">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex items-center justify-between h-16 lg:h-20">
        <a href="/" class="flex-shrink-0">
          <img src="/images/logos/therapysupport-new.png" alt="Therapy Support"
            class="h-8 lg:h-10 w-auto brightness-0 invert" />
        </a>
        <nav class="hidden lg:flex items-center gap-1">
          {mainNavigation.map((item) => (
            <a href={item.href}
              class="px-3 py-2 text-sm font-medium text-brand-100 hover:text-white rounded-lg transition-colors"
              {...(item.external ? { target: '_blank', rel: 'noopener noreferrer' } : {})}>
              {item.label}
            </a>
          ))}
        </nav>
        <a href="https://app.aitherapy.support" target="_blank" rel="noopener noreferrer"
          class="hidden lg:inline-flex items-center px-5 py-2 rounded-full bg-accent-400 text-brand-500 font-bold text-sm hover:bg-accent-300 transition-colors">
          Logowanie
        </a>
        <button type="button" class="lg:hidden p-2 text-white" id="mobile-menu-toggle" aria-label="Menu">
          <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
          </svg>
        </button>
      </div>
    </div>
    <div class="hidden lg:hidden bg-brand-600 border-t border-brand-700" id="mobile-menu">
      <nav class="px-4 py-3 space-y-1">
        {mainNavigation.map((item) => (
          <a href={item.href}
            class="block px-3 py-2.5 text-sm font-medium text-brand-100 hover:text-white rounded-lg"
            {...(item.external ? { target: '_blank', rel: 'noopener noreferrer' } : {})}>
            {item.label}
          </a>
        ))}
        <div class="pt-2 border-t border-brand-700">
          <a href="https://app.aitherapy.support" target="_blank" rel="noopener noreferrer"
            class="block w-full text-center px-5 py-2.5 mt-1 rounded-full bg-accent-400 text-brand-500 font-bold text-sm">
            Logowanie
          </a>
        </div>
      </nav>
    </div>
  </header>

  <main style="background: #F0F4F3;">

    <!-- ===== HERO ‚Äî dark teal cover ===== -->
    <section class="ts-cover relative overflow-hidden bg-brand-500">
      <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24 sm:py-28 lg:py-32">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-16 items-center">

          <!-- Left: text -->
          <div>
            <p class="text-accent-400 text-xs font-bold tracking-[4px] uppercase mb-10">
              Therapy Support ¬∑ Platforma dla Terapeut√≥w CBT
            </p>
            <h1 class="font-display text-4xl sm:text-5xl lg:text-6xl font-bold leading-tight text-white mb-6">
              Platforma dla<br />Terapeut√≥w <em class="not-italic text-accent-400">CBT</em>
            </h1>
            <p class="text-white/65 text-lg leading-relaxed mb-10 max-w-lg">
              Od wstƒôpnej konsultacji i wywiadu, przez konceptualizacjƒô i plan terapii,
              a≈º po notatki z sesji ‚Äî ca≈Ço≈õƒá w jednym, bezpiecznym miejscu
              z odpowiedzialnym wsparciem AI.
            </p>
            <div class="flex flex-col sm:flex-row gap-4 mb-14">
              <a href="https://app.aitherapy.support/betatester" target="_blank" rel="noopener noreferrer"
                class="inline-flex items-center gap-2 px-7 py-3.5 rounded-full bg-accent-400 text-brand-500 font-bold text-sm hover:bg-accent-300 transition-colors shadow-lg">
                Zg≈Ço≈õ siƒô do beta test√≥w
                <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" />
                </svg>
              </a>
              <a href="/funkcjonalnosci/"
                class="inline-flex items-center gap-2 px-7 py-3.5 rounded-full bg-white/10 border border-white/20 text-white font-semibold text-sm hover:bg-white/15 transition-colors">
                Poznaj funkcjonalno≈õci
              </a>
            </div>
            <!-- Stat chips -->
            <div class="flex flex-wrap gap-3">
              {[
                { num: '10‚Äì15h', label: 'oszczƒôdno≈õci miesiƒôcznie' },
                { num: '30s', label: 'notatka z sesji' },
                { num: 'RODO', label: '100% zgodno≈õƒá' },
              ].map((s) => (
                <div class="ts-chip">
                  <strong>{s.num}</strong>{s.label}
                </div>
              ))}
            </div>
          </div>

          <!-- Right: SVG device mockup -->
          <div class="relative mx-auto lg:mx-0 max-w-lg w-full">
            <svg viewBox="0 0 520 400" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-full h-auto drop-shadow-2xl">
              <rect x="30" y="15" width="350" height="235" rx="12" stroke="#3BD5AE" stroke-width="2" fill="white" />
              <rect x="38" y="28" width="334" height="206" rx="4" fill="#f8fafc" />
              <rect x="38" y="28" width="70" height="206" fill="#e6f4f2" />
              <rect x="48" y="44" width="50" height="5" rx="2" fill="#3BD5AE" />
              <rect x="48" y="58" width="40" height="4" rx="2" fill="#134A45" opacity="0.3" />
              <rect x="48" y="70" width="44" height="4" rx="2" fill="#134A45" opacity="0.3" />
              <rect x="48" y="82" width="36" height="4" rx="2" fill="#134A45" opacity="0.3" />
              <rect x="48" y="94" width="42" height="4" rx="2" fill="#134A45" opacity="0.3" />
              <rect x="48" y="106" width="38" height="4" rx="2" fill="#134A45" opacity="0.3" />
              <rect x="116" y="28" width="256" height="28" fill="#f1f5f9" />
              <rect x="126" y="38" width="80" height="6" rx="3" fill="#134A45" opacity="0.5" />
              <circle cx="352" cy="42" r="8" fill="#3BD5AE" opacity="0.3" />
              <rect x="126" y="66" width="110" height="70" rx="6" fill="white" stroke="#e2e8f0" stroke-width="1" />
              <rect x="136" y="76" width="60" height="5" rx="2" fill="#134A45" opacity="0.4" />
              <rect x="136" y="86" width="90" height="4" rx="2" fill="#94a3b8" opacity="0.5" />
              <rect x="136" y="94" width="80" height="4" rx="2" fill="#94a3b8" opacity="0.5" />
              <rect x="136" y="110" width="50" height="16" rx="4" fill="#e6f4f2" />
              <rect x="143" y="115" width="36" height="6" rx="2" fill="#3BD5AE" opacity="0.6" />
              <rect x="246" y="66" width="110" height="70" rx="6" fill="white" stroke="#e2e8f0" stroke-width="1" />
              <rect x="256" y="76" width="55" height="5" rx="2" fill="#134A45" opacity="0.4" />
              <rect x="256" y="86" width="85" height="4" rx="2" fill="#94a3b8" opacity="0.5" />
              <rect x="256" y="94" width="75" height="4" rx="2" fill="#94a3b8" opacity="0.5" />
              <rect x="256" y="110" width="50" height="16" rx="4" fill="#e6f4f2" />
              <rect x="263" y="115" width="36" height="6" rx="2" fill="#3BD5AE" opacity="0.6" />
              <rect x="126" y="148" width="230" height="24" rx="4" fill="white" stroke="#e2e8f0" stroke-width="1" />
              <rect x="134" y="157" width="80" height="5" rx="2" fill="#134A45" opacity="0.3" />
              <rect x="230" y="157" width="40" height="5" rx="2" fill="#94a3b8" opacity="0.4" />
              <rect x="286" y="155" width="60" height="10" rx="4" fill="#3BD5AE" opacity="0.15" />
              <rect x="126" y="178" width="230" height="24" rx="4" fill="white" stroke="#e2e8f0" stroke-width="1" />
              <rect x="134" y="187" width="90" height="5" rx="2" fill="#134A45" opacity="0.3" />
              <rect x="230" y="187" width="50" height="5" rx="2" fill="#94a3b8" opacity="0.4" />
              <rect x="286" y="185" width="60" height="10" rx="4" fill="#3BD5AE" opacity="0.15" />
              <rect x="126" y="208" width="230" height="24" rx="4" fill="white" stroke="#e2e8f0" stroke-width="1" />
              <rect x="134" y="217" width="70" height="5" rx="2" fill="#134A45" opacity="0.3" />
              <rect x="230" y="217" width="45" height="5" rx="2" fill="#94a3b8" opacity="0.4" />
              <rect x="286" y="215" width="60" height="10" rx="4" fill="#3BD5AE" opacity="0.15" />
              <rect x="170" y="250" width="70" height="8" rx="2" fill="#3BD5AE" opacity="0.6" />
              <rect x="155" y="258" width="100" height="5" rx="3" fill="#3BD5AE" opacity="0.4" />
              <rect x="340" y="150" width="130" height="225" rx="18" stroke="#3BD5AE" stroke-width="2" fill="white" />
              <rect x="385" y="156" width="40" height="4" rx="2" fill="#134A45" opacity="0.2" />
              <rect x="348" y="168" width="114" height="190" rx="4" fill="#f8fafc" />
              <rect x="358" y="178" width="94" height="8" rx="3" fill="#134A45" opacity="0.4" />
              <rect x="364" y="200" width="3" height="18" rx="1.5" fill="#3BD5AE" opacity="0.6" />
              <rect x="370" y="194" width="3" height="30" rx="1.5" fill="#3BD5AE" opacity="0.8" />
              <rect x="376" y="198" width="3" height="22" rx="1.5" fill="#3BD5AE" opacity="0.7" />
              <rect x="382" y="190" width="3" height="38" rx="1.5" fill="#3BD5AE" />
              <rect x="388" y="196" width="3" height="26" rx="1.5" fill="#3BD5AE" opacity="0.7" />
              <rect x="394" y="192" width="3" height="34" rx="1.5" fill="#3BD5AE" opacity="0.9" />
              <rect x="400" y="200" width="3" height="18" rx="1.5" fill="#3BD5AE" opacity="0.6" />
              <rect x="406" y="196" width="3" height="26" rx="1.5" fill="#3BD5AE" opacity="0.75" />
              <rect x="412" y="198" width="3" height="22" rx="1.5" fill="#3BD5AE" opacity="0.65" />
              <rect x="418" y="194" width="3" height="30" rx="1.5" fill="#3BD5AE" opacity="0.8" />
              <rect x="424" y="200" width="3" height="18" rx="1.5" fill="#3BD5AE" opacity="0.55" />
              <rect x="430" y="196" width="3" height="26" rx="1.5" fill="#3BD5AE" opacity="0.7" />
              <rect x="436" y="192" width="3" height="34" rx="1.5" fill="#3BD5AE" opacity="0.85" />
              <rect x="442" y="198" width="3" height="22" rx="1.5" fill="#3BD5AE" opacity="0.6" />
              <circle cx="405" cy="255" r="18" fill="#3BD5AE" opacity="0.2" />
              <circle cx="405" cy="255" r="12" fill="#3BD5AE" />
              <rect x="385" y="280" width="40" height="5" rx="2" fill="#134A45" opacity="0.4" />
              <rect x="358" y="296" width="94" height="22" rx="4" fill="#e6f4f2" />
              <rect x="366" y="303" width="60" height="5" rx="2" fill="#134A45" opacity="0.3" />
              <rect x="358" y="324" width="94" height="22" rx="4" fill="#e6f4f2" />
              <rect x="366" y="331" width="50" height="5" rx="2" fill="#134A45" opacity="0.3" />
              <rect x="385" y="365" width="40" height="4" rx="2" fill="#134A45" opacity="0.15" />
            </svg>
          </div>
        </div>
      </div>
    </section>

    <!-- ===== PROBLEM ===== -->
    <section class="py-20 lg:py-28">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="max-w-3xl mx-auto text-center mb-12 lg:mb-16">
          <span class="ts-tag">Problem Terapeuty</span>
          <h2 class="font-display text-3xl sm:text-4xl lg:text-5xl font-bold text-neutral-900 mt-4 mb-4">
            Niewidzialna Praca
          </h2>
          <p class="text-lg text-slate-500 leading-relaxed">
            Dokumentacja, archiwizacja, planowanie sesji, przygotowanie do superwizji,
            konceptualizacja, fakturowanie ‚Äî to wszystko zabiera czas.
            <br /><br />
            My go oddajemy. Na terapiƒô, rozw√≥j i to, co napƒôdza.
          </p>
        </div>
        <div class="grid grid-cols-1 sm:grid-cols-3 gap-5 max-w-3xl mx-auto">
          {[
            { value: '100', label: 'sesji miesiƒôcznie' },
            { value: '20', label: 'minut pracy niewidzialnej na 1 sesjƒô' },
            { value: '20', label: 'godzin miesiƒôcznie na administracji' },
          ].map((stat) => (
            <div class="ts-card text-center py-10 px-6">
              <p class="text-5xl lg:text-6xl font-extrabold text-brand-500 mb-2">{stat.value}</p>
              <p class="text-slate-500 font-medium text-sm leading-snug">{stat.label}</p>
            </div>
          ))}
        </div>
      </div>
    </section>

    <!-- ===== FEATURES ===== -->
    <section class="py-20 lg:py-28 bg-white">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="ts-section-header mb-14">
          <span class="ts-tag">Funkcjonalno≈õci</span>
          <h2 class="font-display text-3xl sm:text-4xl lg:text-5xl font-bold text-neutral-900 mt-4 mb-3">
            Dopasowane do pracy terapeuty
          </h2>
          <p class="text-lg text-slate-500 max-w-2xl">
            Lepsza praca kliniczna, mniej administracji.
          </p>
        </div>

        <!-- Large 2-col features -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
          {features.filter(f => f.large).map((f) => (
            <div class="ts-feature-block">
              <div class="ts-feature-header">
                <div class="ts-feature-badge">{f.badge}</div>
                <h3 class="font-display text-2xl font-bold text-neutral-900 mb-2">
                  <span class="mr-2">{f.emoji}</span>{f.title}
                </h3>
                <p class="text-slate-500 text-sm leading-relaxed">{f.desc}</p>
              </div>
              <div class="ts-feature-body">
                <ul class="ts-arrow-list">
                  {f.points.map(p => <li>{p}</li>)}
                </ul>
              </div>
            </div>
          ))}
        </div>

        <!-- Smaller 3-col features -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
          {features.filter(f => !f.large).map((f) => (
            <div class="ts-feature-block">
              <div class="ts-feature-header">
                <div class="ts-feature-badge">{f.badge}</div>
                <h3 class="font-display text-xl font-bold text-neutral-900 mb-2">
                  <span class="mr-2">{f.emoji}</span>{f.title}
                </h3>
                <p class="text-slate-500 text-sm leading-relaxed">{f.desc}</p>
              </div>
              <div class="ts-feature-body">
                <ul class="ts-arrow-list">
                  {f.points.map(p => <li>{p}</li>)}
                </ul>
              </div>
            </div>
          ))}
        </div>
      </div>
    </section>

    <!-- ===== TESTIMONIALS ===== -->
    <section class="py-20 lg:py-28">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="ts-section-header mb-12">
          <span class="ts-tag">Opinie</span>
          <h2 class="font-display text-3xl sm:text-4xl lg:text-5xl font-bold text-neutral-900 mt-4 mb-3">
            Czego potrzebujƒÖ terapeuci?
          </h2>
          <p class="text-lg text-slate-500 max-w-2xl">
            Wys≈Çuchali≈õmy potrzeb profesjonalist√≥w zdrowia psychicznego i stworzyli≈õmy
            rozwiƒÖzanie, kt√≥re odpowiada na realne wyzwania codziennej praktyki.
          </p>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
          {testimonials.map((t) => (
            <div class="ts-card p-7">
              <div class="flex gap-1 mb-5">
                {Array.from({ length: 5 }).map((_, i) => (
                  <svg class:list={['w-4 h-4', i < t.rating ? 'text-yellow-400' : 'text-gray-200']}
                    fill="currentColor" viewBox="0 0 20 20">
                    <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                  </svg>
                ))}
              </div>
              <blockquote class="text-slate-500 text-sm leading-relaxed mb-6 italic">
                &bdquo;{t.quote}&rdquo;
              </blockquote>
              <div class="flex items-center gap-3 pt-4 border-t border-[#E2E8F0]">
                <div class="w-9 h-9 rounded-full bg-brand-50 flex items-center justify-center text-brand-500 font-bold text-sm flex-shrink-0">
                  {t.name.charAt(0)}
                </div>
                <div>
                  <p class="font-semibold text-neutral-900 text-sm">{t.name}</p>
                  <p class="text-slate-500 text-xs">{t.role}</p>
                </div>
              </div>
            </div>
          ))}
        </div>
      </div>
    </section>

    <!-- ===== FAQ ===== -->
    <section class="py-20 lg:py-28 bg-white">
      <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="ts-section-header mb-12">
          <span class="ts-tag">FAQ</span>
          <h2 class="font-display text-3xl sm:text-4xl font-bold text-neutral-900 mt-4 mb-3">
            O co pytacie?
          </h2>
          <p class="text-slate-500">
            Nie znalaz≈Çe≈õ odpowiedzi?{' '}
            <a href="/kontakt/" class="text-brand-500 hover:underline font-medium">Napisz do nas.</a>
          </p>
        </div>
        <div class="space-y-3">
          {faqItems.map((item) => (
            <div class="ts-card overflow-hidden" data-faq-item>
              <button type="button"
                class="flex items-center justify-between w-full px-6 py-4 text-left hover:bg-[#F8FAFC] transition-colors"
                data-faq-btn aria-expanded="false">
                <span class="font-semibold text-neutral-900 pr-4 text-sm">{item.question}</span>
                <svg class="w-4 h-4 text-accent-400 flex-shrink-0 transition-transform duration-200"
                  data-faq-arrow fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
                </svg>
              </button>
              <div class="hidden px-6 pb-5" data-faq-content>
                <p class="text-slate-500 text-sm leading-relaxed">{item.answer}</p>
              </div>
            </div>
          ))}
        </div>
        <div class="mt-10 text-center">
          <a href="/kontakt/"
            class="inline-flex items-center gap-2 px-6 py-3 rounded-full border-2 border-brand-500 text-brand-500 font-semibold text-sm hover:bg-brand-50 transition-colors">
            Napisz wiadomo≈õƒá
          </a>
        </div>
      </div>
    </section>

    <!-- ===== BLOG ===== -->
    {latestPosts.length > 0 && (
      <section class="py-20 lg:py-28">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div class="ts-section-header mb-12">
            <span class="ts-tag">Blog</span>
            <h2 class="font-display text-3xl sm:text-4xl lg:text-5xl font-bold text-neutral-900 mt-4 mb-3">
              Terapia, warsztat, technologia
            </h2>
            <p class="text-lg text-slate-500">
              Piszemy o tym, nad czym pracujemy i dlaczego.
            </p>
          </div>
          <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            {latestPosts.map((post) => (
              <a href={`/blog/${post.slug}/`}
                class="ts-card overflow-hidden group block hover:shadow-[0_8px_32px_rgba(0,0,0,0.08)] transition-shadow">
                {post.data.heroImage && (
                  <div class="aspect-[16/9] overflow-hidden bg-gray-100">
                    <img src={post.data.heroImage} alt={post.data.title}
                      class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300" />
                  </div>
                )}
                <div class="p-6">
                  <p class="ts-feature-badge inline-flex mb-3">{post.data.category}</p>
                  <h3 class="font-display text-lg font-bold text-neutral-900 group-hover:text-brand-500 transition-colors line-clamp-2 mb-2">
                    {post.data.title}
                  </h3>
                  <p class="text-slate-500 text-sm leading-relaxed line-clamp-3 mb-4">{post.data.description}</p>
                  <div class="flex items-center justify-between text-xs text-gray-400 pt-4 border-t border-[#E2E8F0]">
                    <span>{post.data.author}</span>
                    <time datetime={post.data.pubDate.toISOString()}>
                      {post.data.pubDate.toLocaleDateString('pl-PL', { day: 'numeric', month: 'short', year: 'numeric' })}
                    </time>
                  </div>
                </div>
              </a>
            ))}
          </div>
          <div class="mt-10 text-center">
            <a href="/blog/"
              class="inline-flex items-center gap-2 px-6 py-3 rounded-full border-2 border-brand-500 text-brand-500 font-semibold text-sm hover:bg-brand-50 transition-colors">
              Wszystkie wpisy
            </a>
          </div>
        </div>
      </section>
    )}

    <!-- ===== CTA ‚Äî dark teal cover ===== -->
    <section class="ts-cover ts-cover-sm relative overflow-hidden bg-brand-500 py-20 lg:py-28">
      <div class="relative max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <p class="text-accent-400 text-xs font-bold tracking-[4px] uppercase mb-6">
          Beta testy ¬∑ Do≈ÇƒÖcz teraz
        </p>
        <h2 class="font-display text-3xl sm:text-4xl lg:text-5xl font-bold text-white mb-6">
          Odzyskaj czas dla siebie<br />i swoich <em class="not-italic text-accent-400">pacjent√≥w</em>
        </h2>
        <p class="text-white/65 text-lg leading-relaxed mb-10 max-w-xl mx-auto">
          Jeste≈õ terapeutƒÖ / terapeutkƒÖ CBT?
          Sprawd≈∫, jak platforma wspiera TwojƒÖ codziennƒÖ pracƒô.
          Podsumowania sesji, kt√≥re porzƒÖdkujƒÖ materia≈Ç kliniczny.
          Administracja, kt√≥ra nie przeszkadza.
        </p>
        <div class="flex flex-col sm:flex-row items-center justify-center gap-4">
          <a href="https://app.aitherapy.support/betatester" target="_blank" rel="noopener noreferrer"
            class="inline-flex items-center gap-2 px-8 py-4 rounded-full bg-accent-400 text-brand-500 font-bold text-base hover:bg-accent-300 transition-colors shadow-lg">
            Zg≈Ço≈õ siƒô do beta test√≥w
          </a>
          <a href="/zapisy-na-sesje-feedbackowe/"
            class="inline-flex items-center gap-2 px-8 py-4 rounded-full bg-white/10 border border-white/20 text-white font-semibold text-base hover:bg-white/15 transition-colors">
            Um√≥w sesjƒô feedbackowƒÖ
          </a>
        </div>
      </div>
    </section>

  </main>

  <!-- ===== FOOTER ===== -->
  <footer class="bg-brand-700 text-brand-100">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 lg:py-16">
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 lg:gap-12">
        <div class="lg:col-span-1">
          <a href="/" class="inline-block mb-4">
            <img src="/images/logos/therapysupport-new.png" alt="Therapy Support"
              class="h-10 w-auto brightness-0 invert opacity-80" />
          </a>
          <p class="text-sm leading-relaxed" style="color: rgba(255,255,255,0.5)">
            Zintegrowana Platforma dla Terapeut√≥w CBT.<br />Nowy standard w psychoterapii.
          </p>
        </div>
        <div>
          <h3 class="text-white font-semibold text-sm mb-4">Nawigacja</h3>
          <ul class="space-y-2.5">
            {mainNavigation.slice(0, 4).map((item) => (
              <li>
                <a href={item.href} style="color: rgba(255,255,255,0.5)"
                  class="text-sm hover:text-white transition-colors"
                  {...(item.external ? { target: '_blank', rel: 'noopener noreferrer' } : {})}>
                  {item.label}
                </a>
              </li>
            ))}
          </ul>
        </div>
        <div>
          <h3 class="text-white font-semibold text-sm mb-4">Informacje</h3>
          <ul class="space-y-2.5">
            {mainNavigation.slice(4).map((item) => (
              <li>
                <a href={item.href} style="color: rgba(255,255,255,0.5)"
                  class="text-sm hover:text-white transition-colors"
                  {...(item.external ? { target: '_blank', rel: 'noopener noreferrer' } : {})}>
                  {item.label}
                </a>
              </li>
            ))}
          </ul>
        </div>
      </div>
      <div class="mt-12 pt-8 border-t border-brand-600">
        <p class="text-xs leading-relaxed max-w-4xl" style="color: rgba(255,255,255,0.35)">
          Projekt &bdquo;Platforma Startowa Unicorn Hub &ndash; Edycja II&rdquo; wsp√≥≈Çfinansowany ze ≈õrodk√≥w Unii Europejskiej
          w ramach dzia≈Çania 1.1 Platformy Startowe dla nowych pomys≈Ç√≥w Programu Fundusze Europejskie dla Polski Wschodniej 2021-2027.
        </p>
      </div>
      <div class="mt-6 pt-6 border-t border-brand-600 flex flex-col sm:flex-row justify-between items-center gap-4">
        <p class="text-xs" style="color: rgba(255,255,255,0.35)">
          &copy; {currentYear} Therapy Support. Wszelkie prawa zastrze≈ºone.
        </p>
        <div class="flex flex-wrap items-center justify-center gap-4">
          {[
            { href: '/regulamin/', label: 'Regulamin' },
            { href: '/polityka-prywatnosci/', label: 'Polityka prywatno≈õci' },
            { href: '/cookies/', label: 'Cookies' },
            { href: '/kontakt/', label: 'Kontakt' },
          ].map((link) => (
            <a href={link.href} class="text-xs hover:text-white transition-colors"
              style="color: rgba(255,255,255,0.35)">{link.label}</a>
          ))}
        </div>
      </div>
    </div>
  </footer>

</BaseLayout>

<style>
  /* Hero cover: decorative blobs */
  .ts-cover::before {
    content: '';
    position: absolute;
    width: 600px; height: 600px;
    border-radius: 50%;
    background: rgba(59, 213, 174, 0.07);
    top: -200px; right: -200px;
    pointer-events: none;
  }
  .ts-cover::after {
    content: '';
    position: absolute;
    width: 400px; height: 400px;
    border-radius: 50%;
    background: rgba(227, 221, 248, 0.06);
    bottom: -100px; left: -100px;
    pointer-events: none;
  }

  /* Stat chips inside hero */
  .ts-chip {
    background: rgba(255, 255, 255, 0.08);
    border: 1px solid rgba(255, 255, 255, 0.12);
    border-radius: 12px;
    padding: 10px 18px;
    font-size: 13px;
    color: rgba(255, 255, 255, 0.8);
    line-height: 1.4;
  }
  .ts-chip strong {
    color: #3BD5AE;
    display: block;
    font-size: 20px;
    font-weight: 700;
    margin-bottom: 1px;
  }

  /* Lavender section tag */
  .ts-tag {
    display: inline-block;
    background: #E3DDF8;
    color: #134A45;
    font-size: 11px;
    font-weight: 700;
    letter-spacing: 2px;
    text-transform: uppercase;
    padding: 6px 14px;
    border-radius: 100px;
  }

  /* White card base */
  .ts-card {
    background: white;
    border-radius: 20px;
    border: 1px solid #E2E8F0;
    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.04);
  }

  /* Feature block */
  .ts-feature-block {
    background: white;
    border-radius: 20px;
    border: 1px solid #E2E8F0;
    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.04);
    overflow: hidden;
  }
  .ts-feature-header {
    padding: 28px 32px;
    border-bottom: 1px solid #E2E8F0;
  }
  .ts-feature-body {
    padding: 24px 32px;
  }

  /* DM Mono badge */
  .ts-feature-badge {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    background: #F8FAFC;
    border: 1px solid #E2E8F0;
    border-radius: 8px;
    padding: 4px 12px;
    font-family: 'DM Mono', monospace;
    font-size: 11px;
    color: #134A45;
    margin-bottom: 12px;
    letter-spacing: 0.5px;
  }

  /* Arrow list */
  .ts-arrow-list {
    list-style: none;
    display: flex;
    flex-direction: column;
    gap: 6px;
  }
  .ts-arrow-list li {
    font-size: 13px;
    color: #475569;
    padding: 8px 12px;
    background: #F8FAFC;
    border-radius: 8px;
    display: flex;
    align-items: flex-start;
    gap: 10px;
  }
  .ts-arrow-list li::before {
    content: '‚Üí';
    color: #3BD5AE;
    flex-shrink: 0;
    font-weight: 600;
  }

  /* Section header left-aligned */
  .ts-section-header {
    border-bottom: 2px solid #E3DDF8;
    padding-bottom: 24px;
  }
</style>

<script is:inline>
  // Mobile menu
  const toggle = document.getElementById('mobile-menu-toggle');
  const menu = document.getElementById('mobile-menu');
  if (toggle && menu) toggle.addEventListener('click', () => menu.classList.toggle('hidden'));

  // FAQ accordion
  document.querySelectorAll('[data-faq-btn]').forEach((btn) => {
    btn.addEventListener('click', () => {
      const item = btn.closest('[data-faq-item]');
      const content = item.querySelector('[data-faq-content]');
      const arrow = item.querySelector('[data-faq-arrow]');
      const isOpen = !content.classList.contains('hidden');
      content.classList.toggle('hidden');
      arrow.classList.toggle('rotate-180');
      btn.setAttribute('aria-expanded', isOpen ? 'false' : 'true');
    });
  });
</script>
