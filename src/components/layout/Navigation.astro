---
import { mainNavigation } from '../../data/navigation';

const currentPath = Astro.url.pathname;
---

<nav class="flex items-center gap-1" aria-label="Nawigacja główna">
  {mainNavigation.map((item) => {
    const isActive = item.href === '/'
      ? currentPath === '/'
      : currentPath.startsWith(item.href);

    return (
      <a
        href={item.href}
        class:list={[
          'px-3 py-2 text-sm font-medium rounded-lg transition-colors',
          isActive
            ? 'text-sage-600 border-b-2 border-sage-600'
            : 'text-gray-700 hover:text-sage-600',
        ]}
        {...(item.external ? { target: '_blank', rel: 'noopener noreferrer' } : {})}
      >
        {item.label}
      </a>
    );
  })}
</nav>
